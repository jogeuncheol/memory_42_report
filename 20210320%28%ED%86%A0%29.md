# 학습 레포트 55일차 2021-03-20 (토)

## 1. 학습 날짜
> ### 2021-03-20 (토)

## 2. 학습 시간
> ### 14:00 ~ 17:00 (집)

## 3. 학습 범위 및 주제
### | 구름 스타트업 코딩 페스티벌 1차 테스트 |

## 4. 동료 학습 방법
- 친구와 함께 공부

## 5. 학습 목표
- 스타트업 코딩 페스티벌의 1차 코딩 테스트 참여 해보기

## 6. 상세 학습 내용
- **실제 코딩 시간** 3시간
- **참고한 내용** 없음

### 스타트업 코딩 페스티벌
클라우드 IDE를 제공해 주는 구름에서 스타트업 코딩 페스티벌을 한다는 메일을 받고 참여를 해 보았다. 목요일 금요일에 코딩 테스트 환경을 점검하는 모의 테스트가 있었고 목요일에 2 문제를 풀어 보았고, 실제 테스트인 오늘 6문제 중 1문제를 풀어 보았다.

### 1번 문제
1번 문제는 쏘카에서 제시한 문제?로 대여 시간을 추천 해 주는 기능을 간단하게 구현하는 문제였다. 자가용을 이용하려는 인원 수와 쏘카 존에 도착할 수 있는 시간 구간을 입력하면 공통 시간 범위를 구해주는 프로그램이다.

입력 예는 다음과 같았다.
```
3
12:00 ~ 23:59
11:00 ~ 18:00
14:00 ~ 20:00
```
인원 수가 3명이라면 3개의 시간 범위가 다음에 입력된다. 그중 공통된 시간 범위를 찾아 출력 해 주면 되고 만약 조건에 맞는 시간 범위가 존재하지 않으면 -1을 출력하면 된다.

### 해결 방안
나는 간단하게 생각해서 앞 시간에서는 큰 시간을 찾고, 뒷 시간에서는 작은 시간을 찾아 범위를 출력해 주면 될것이라 생각했다. 입력 값으로 들어오는 값을 세 범위로 나누었고 12:00, ~, 23:59 처럼 세 범위로 나누었다.

### 코드
```c
int main()
{
    int i, N;
    char h[6], w[2], m[6];
    char *hh;
    char *mm;
    char *tmp;
    
    hh = NULL;
    mm = NULL;
    scanf("%d", &N);
    i = 0;
    while (i < N)
    {
        scanf("%s %s %s", h, w, m);
        hh = f1(hh, h);
        mm = f2(mm, m);
        i++;
    }
    printf("%s %s %s", hh, w, mm);
    return (0);
}
```
메인 함수는 N에 인원수를 입력받는다. 인원수 만큼 시간 범위를 입력 받고, f1, f2 함수로 앞의 시간과 뒷 시간 범위를 서로 비교 해 크고, 작은 시간 범위를 계산하는 것을 인원수 만큼 반복하도록 하였다.

```c
char *f1(char *hh, char *h)
{
    char *ret;
    int i;
    
    if (hh == NULL)
    {
        ret = strdup(h);
        return (ret);
    }
    
    i = 0;
    while (i < 6)
    {
        if (hh[i] == h[i])
            i++;
        else
        {
            if (hh[i] - h[i] > 0)
                strcpy(ret, hh);
            else
                strcpy(ret, h);
            break;
        }
    }
    if (i == 5)
        strcpy(ret, h);
    ret[5] = '\0';
    return (ret);
}
-----------------------------------
char *f2(char *mm, char *m)
{
    char *ret;
    int i;
    
    if (hh == NULL)
    {
        ret = strdup(m);
        return (ret);
    }
    
    i = 0;
    while (i < 6)
    {
        if (mm[i] == m[i])
            i++;
        else
        {
            if (mm[i] - m[i] < 0)
                strcpy(ret, mm);
            else
                strcpy(ret, m);
            break;
        }
    }
    if (i == 5)
        strcpy(ret, m);
    ret[5] = '\0';
    return (ret);
}
```
f1과 f2 함수는 앞 시간과 뒷 시간 범위를 서로 비교 해 더 큰 시간 범위, 혹은 더 작은 시간 범위를 반환하는 함수로 만들었다.
만약 12:00 ~ 14:00 과 11:00 ~ 13:00 두 범위가 입력으로 주어지면 두 함수를 거친 출력 값은 12:00 ~ 13:00 이 될 것이다.

더 큰 시간 범위나 더 작은 시간 범위를 구할 때, 두 문자열의 각 문자를 비교해 더 큰지 작은지를 비교해 범위를 지정해 주었다. "12:00" 과 "13:00" 을 비교하면 2와 3에서 차이가 존재하고 2보다 3이 ascii 코드 값이 더 크기 때문에 '2' - '3' 을 하면 -1 나와 어느 시간 범위가 더 크고 작은지 알 수 있었다.

### 문제점
처음 코드를 작성 할 때는 strdup 함수를 사용해 서로 다른 문자가 나타났을 때 더 큰 값 또는 작은 값을 단순 대입을 해 주었는데 그럴 경우 12:30 ~ 13:29 범위의 경우 출력이 13:39로 각 문자에서 큰 값을 가져와 잘못된 범위를 출력 하였다.

두 번쨰로 strdup 함수를 사용해 다른 문자부터 큰 값 또는 작은 값을 찾아 복사 해 주려고 했는데 이것도 잘 되지 않았다.

마지막으로 strcpy 함수로 이후 큰 값 또는 작은 시간 범위를 갖는 시간을 ret 변수에 복사해 주고 return을 해주어서 해결 하였다.

### -1 반환
코드 테스트를 하고 -1을 출력하는 경우도 처리를 해 주었어야 하는데 두번 비교를 하도록 했다.

먼저 처음 입력된 시간 범위에서 뒷 시간(mm)과 두 번째 입력된 시간 범위에서 앞 시간 범위를 비교해 두 번째 입력된 앞 시간 범위(h)가 mm 보다 작은지를 체크 해 주어 공통 범위에 있는지 체크 해 주었다.

그리고 마지막으로 만들어진 앞 시간 범위와 뒷 시간범위 hh, mm 두 시간 범위가 제대로 설정되어 있는지, hh < mm 조건을 만족하는지를 체크해 잘못된 시간 범위라면 -1을 출력하도록 했다.

## 7. 학습 내용에 대한 개인적인 총평

## 8. 다음 학습 계획
- cub3D 공부