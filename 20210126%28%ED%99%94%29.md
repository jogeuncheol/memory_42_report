# 학습 레포트 22일차 2021-01-26(화)
## 1.학습 날짜
> ### 2021-01-26(화)
## 2.학습 시간
> ### 06:00 ~ 09:00(집)
> ### 21:00 ~ 23:30(집)
## 3.학습 범위 및 주제
### | ft_printf과제, iTerm2 단축키 |
## 4.동료 학습 방법
- 온라인 - 슬랙 검색, 42wiki
## 5.학습 목표
- ft_printf 코드 작성을 위해 연습
## 6.상세 학습 내용
- **실제 코딩 시간** 3시간
- **참고한 내용** 

### ft_printf
printf의 옵션들 flag, width, precision 에 대해서 알아본 후 코드 정수값을 가변인자로 주고 값을 출력해 보기위해 연습용 코드 작성을 시작했다.

```
int ft_printf(const char *str, ...)
{
    va_list ap;
    int i;
    int len;
    char *flag_buff;
    static char *prev_buff;
    
    va_start(ap, str);
    len = 0;
    while (str[len] != '\0' && str[len] != '%')
        len += 1;
    if (!(prev_buff = (char *)malloc(sizeof(char) * (len + 1))))
        return (0);
    ft_strlcpy(prev_buff, str, len + 1);
    i = len;
    while (str[len] != '\0')
        len += 1;
    if (!(flag_buff = (char *)malloc(sizeof(char) * (i + 1))))
        return (0);
    ft_strlcpy(flag_buff, (str + i), (len - i) + 1);
    printf("prev_buff : %s\n", prev_buff);
    printf("flag_buff : %s\n", flag_buff);
    printf("va_arg(ap, int) : %d\n", va_arg(ap, int));
    va_end(ap);
    free(flag_buff);
    free(prev_buff);
    return (1);
}

int main()
{
    ft_printf("hello world : %d", 10);
    return (0);
}
--------------------------
prev_buff : hello world : 
flag_buff : %d
va_arg(ap, int) : 10
```
printf 함수가 출력할 문자열을 서식지정자를 보고 가변인자로부터 값을 가져와 출력할 문자열을 새롭게 만드는 것으로 구조를 잡았다.

1. 먼저 `str` 문자열에서 `%` 문자를 찾을 때 까지 `prev_buff`에 저장을 하고, 이후 문자열을 전부 `flag_buff`에 저장을 한다.
2. `flag_buff`에 저장된 문자열을 보고 `%` 문자 이후 어떤 문자가 있는지를 판단해 `d` 또는 `i`가 오면 `va_arg(ap, int)`를 사용해 가변인자 리스트에서 값을 가져온 후 `sizeof(int)` 만큼 주소를 옮겨 다음 가변인자 또는 리스트의 끝을 가리키도록 해두면 된다.
3. 
## 7.학습 내용에 대한 개인적인 총평
## 8.다음 학습 계획