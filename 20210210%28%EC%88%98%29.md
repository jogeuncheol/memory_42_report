# 학습 레포트 28일차 2021-02-10(수)
## 1.학습 날짜
> ### 2021-02-10(수)

## 2.학습 시간
> ### 18:00 ~ 24:00 (집)

## 3.학습 범위 및 주제
### | ft_printf 작성 |

## 4.동료 학습 방법
- 해당없음

## 5.학습 목표
- ft_printf 함수 수정

## 6.상세 학습 내용
- **실제 코딩 시간** 4시간
- **참고한 내용** 42위키

작성하던 ft_printf 파일을 norminette에 맞게 수정하면서 파일을 나누었다.

### ft_printf
```
int ft_printf(const char *str, ...)
{
    va_list ap;
    char    *flag_buff;
    char    *prev_buff;
    int     i;
    
    va_start(ap, str);
    i = 0;
    while (str[i] != '\0' && str[i] != '%')
        i++;
    prev_buff = ft_substr(str, 0, i);
    flag_buff = ft_substr(str, i, ft_strlen(str) - i);
    va_end(ap);
    i = ft_print_buff(prev_buff, ft_cut_flag_buff(&flag_buff, ap));
    free(flag_buff);
    return (i);
}
```

1. 변수 i는 `%` 또는 문자열의 끝 위치를 찾는다.
2. 찾은 i 위치 이전까지 prev_buff에 저장한다.
3. i 부터 문자열의 끝까지 flag_buff에 저장한다.
4. ft_print_buff 함수는 문자열을 출력하고 문자열의 총 길이를 반환한다.
5. ft_cut_flag_buff 함수는 flag_buff의 문자열에 따라 옵션과 가변인자를 적절히 조합해 새로운 문자열을 만들어 반환한다.

### ft_print_buff
printf 함수는 문자열을 출력하고 함수의 반환값으로 문자열의 총 길이를 반환한다. 따라서 ft_printf 함수에서도 문자열을 출력하고 문자열의 총 길이를 반환하는 함수를 만들었다.
```
void ft_putchar(char c);
{
    weite(1, &c, 1);
}

void ft_putstr(char *s)
{
    int i;
    
    i = 0;
    while (s[i] != '\0')
        ft_putchar(s[i++]);
}

int ft_print_buff(char *prev_buff, char *tmp)
{
    char *full_buff;
    int  i;
    
    i = 0;
    full_buff = ft_strjoin(prev_buff, tmp);
    i = ft_strlen(full_buff);
    ft_putstr(full_buff);
    free(full_buff);
    free(prev_buff);
    free(tmp);
    return (i);
}
```
문자열을 출력하기위해 putstr, putchar 함수를 추가로 사용하였다.

1. full_buff 는 prev_buff의 문자열과 ft_cut_flag_buff 함수에서 만들어진 새로운 문자열을 더해 전체 문자열을 저장한다.
2. i 는 전체 문자열의 길이를 저장한다.
3. ft_putstr 함수로 문자열을 출력한다.
4. 출력을 끝냈으면 free 해준다.

### 