# 학습 레포트 32일차 2021-02-16(화)
## 1.학습 날짜
> ### 2021-02-16(화)

## 2.학습 시간
> ### 18:00 ~ 24:00

## 3.학습 범위 및 주제
### | printf 함수 작성 서식지정자 |

## 4.동료 학습 방법
- 온라인 - 슬랙 검색

## 5.학습 목표
- printf 숫자 서식지정자 작성

## 6.상세 학습 내용
- **실제 코딩 시간** 4시간
- **참고한 내용**

### ft_diu_buff

```c
int ft_diu_buff(va_list ap, char c, size_t *signal, int *len)
{
    if (c == 'd' || c == 'i')
        return (ft_di_buff(ap, signal, len));
    else
        return (ft_u_buff(ap, signal, len));
}
```
인자 c로 들어온 문자에 따라 'd', 'i' 의 경우 ft_di_buff 함수로 'u' 의 경우 ft_u_buff 함수를 호출 하도록 하였다.

```c
int		ft_di_buff(va_list ap, size_t *signal, int *len)
{
	int		num;
	char	*tmp;
	char	*buff;
	char	*di_buff;

	num = va_arg(ap, int);
	di_buff = ft_itoa(num);
	if (signal[4] == 1 && signal[8] == 0 && num == 0)
		buff = ft_strdup("");
	else if (signal[4] == 1)
		buff = ft_set_precision(di_buff, signal, num);
	else
		buff = ft_strdup(di_buff);
	tmp = ft_strdup(buff);
	free(buff);
	if (signal[4] == 1 && signal[5] == 1 && signal[7] == 0)
		buff = ft_invalid_conversion(tmp, signal);
	else
		buff = ft_set_width_ex(tmp, signal, num);
	free(tmp);
	write(1, buff, ft_strlen(buff));
	*len = *len + ft_strlen(buff);
	free(buff);
	free(di_buff);
	return ((buff == NULL) ? (0) : (1));
}
```
```c
int		ft_u_buff(va_list ap, size_t *signal, int *len)
{
	unsigned int	num;
	char			*tmp;
	char			*buff;
	char			*u_buff;

	num = va_arg(ap, unsigned int);
	u_buff = ft_utoa(num);
	if (signal[4] == 1 && signal[8] == 0 && num == 0)
		buff = ft_strdup("");
	else if (signal[4] == 1)
		buff = ft_set_precision(u_buff, signal, num);
	else
		buff = ft_strdup(u_buff);
	tmp = ft_strdup(buff);
	free(buff);
	if (signal[4] == 1 && signal[5] == 1 && signal[7] == 0)
		buff = ft_invalid_conversion(tmp, signal);
	else
		buff = ft_set_width_ex(tmp, signal, num);
	free(tmp);
	write(1, buff, ft_strlen(buff));
	*len = *len + ft_strlen(buff);
	free(buff);
	free(u_buff);
	return ((buff == NULL) ? (0) : (1));
}
```