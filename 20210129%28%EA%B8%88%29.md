# 학습 레포트 25일차 2021-01-29(금)
## 1.학습 날짜
> ### 2021-01-29(금)
## 2.학습 시간
> ### 15:00 ~ 19:00(집)
## 3.학습 범위 및 주제
### | printf 실습 |
## 4.동료 학습 방법
- 해당 없음
## 5.학습 목표
- printf 옵션 활용해보기
## 6.상세 학습 내용
- **실제 코딩 시간** 3시간
- **참고한 내용**

### printf
ft_printf 과제를 진행하면서 printf 의 옵션들을 사용해보면서 익숙해져야 구현하는데 좀 더 수월할것 같아 printf의 [flag], [width], [.precision]을 활용해 프로그램을 만들어 보았다.

### 별찍기
c언어 별찍기라 구글에 검색하면 `*`문자를 사용하여 사각형, 마름모, 직각삼각형, 나비, 모래시계, 피라미드 등 다양한 모양을 출력하는 반복문 예제가 많이 나온다. 나는 printf의 옵션을 활용하면서 반복문을 최소한으로 짜보는것을 오늘의 목표로 삼았다.

### 피라미드
별찍기 모양 중 피라미드를 골랐고 이유는 딱히 없다. 그냥 처음 만들어 보자 했을때 생각했던 모습이다.
```
for (int i = 10; i > 0; i--)
{
    for (int j = 0; j < i; j++)
        printf(" ");
    for (int j = 0; j < ((10 - i) * 2) + 1); j++)
        printf("*");
    printf("\n");
}
--------------------------------
          *
         ***
        *****
       *******
      *********
     ***********
    *************
   ***************
  *****************
 *******************
```
반복문을 중첩해서 피라미드를 출력해본 코드이다. 높이가 `i`인 피라미드를 그리는데 `i`만큼 공백으로 채우다가 꼭대기를 `*` 그린 후 `\n` 개행을 한다. `*`은 홀수개씩 그려야 하므로 `j < ((10 - i) * 2) + 1)` 조건을 주었다.

```
for (int i = 0; i < 5; i++)
    printf("%*.*s\n", 5 + i, (i * 2) + 1, "**********");
---------------------------------
    *
   ***
  *****
 *******
*********
```
여러번 코드를 수정하면서 최종 코드의 모양으로 코드 작성을 끝냈다.\
처음에는 문자 `'*'`를 사용해 출력해보려 했는데 코드의 길이를 단 한줄로 피라미드 출력을 해보고 싶다는 마음이 생겨서 문자열로 갯수를 정하고 해당 문자열에서 precision을 사용해 공백과 출력할 문자의 갯수를 뽑아내 원하는 모양으로 출력되도록 만들었다.

위의 코드에서 높이를 5로 고정하게되면 필요한 문자열의 길이는 2배가 된다. 왜냐하면 for 문으로 반복되는 것이 피라미드의 높이이자 출력 시키려는 최소한의 밑변의 길이가 되기 때문이다. 따라서 5 + i 로 밑변이 될 줄들의 길이를 하나씩 늘려 밑 변의 길이를 늘려주었다.

printf 함수의 인자들을 살펴보면 먼저 출력 문자열은 `%*.*s` 이다. `*` 옵션은 매개변수의 값을 사용하는 것이고, `*.*`이 뜻하는 것은 width옵션을 `*`로 받고, precision 옵션도 `*`로 받겠다는 것이다. 그리고 서식지정자 `s`는 문자열을 출력한다는 뜻이다.\
그럼 매개변수를 보면 처음 `*`에 해당하는 것은 `5 + i` 이다. width 옵션에 해당하는 부분으로 문자대치할 문자열의 총 길이를 `5 + i`로 `5, 6, 7, 8, 9` 길이가 만들어진다.\
다음 `*`에 해당하는 것은 `(i * 2) + 1`로 precision 옵션에 해당한다. 이것은 정밀도로 문자열에 사용하게 되면 서식지정자로 오는 문자열의 출력길이를 잘라내 원하는 precision 값만큼 출력할 수 있다. 따라서 문자열에서 `1, 3, 5, 7, 9`개씩 출력하겠다는 것이 된다.\
마지막 매개변수인 `"**********"` 는 서식지정자 `s`에 해당하는 출력될 문자열이다. precision 값에 따라 문자열에서 갯수가 정해져 출력된다.

```
int n = 100;
char p[n];

memset(p, '*', n);
/*
while (n--)
    p[n] = '*';
*/
for (int i = 0; i < sizeof(p) / 2; i++)
    printf("%*.*s\n", ((int)sizeof(p) / 2) + i, (i * 2) + 1, p);
```
위 코드가 최종으로 마무리한 코드이다.\
문자열의 길이가 피라미드 높이의 2배가 되어야 하기때문에 크기가 큰 피라미드를 출력해보기 위해서는 높이 갯수만큼 미리 `*`의 배열을 만들어 놓을 필요가 있었다. 해당 작업을 `memset` 함수를 사용해 배열 p에 높이 만큼 배열에 값을 넣어주었다.\
터미널의 가로축이 한계가 있으므로 2배를 넣어주는 대신 1/2 로 축소한 피라미드를 출력해 보기 위해 배열 길이의 절반을 높이로 반복문을 돌게 하였다.

### 시간 복잡도
제일 처음 반복문을 중첩해 작성한 피라미드 출력 코드의 시간복잡도는 O(n^2)이 나올것이다. 왜냐하면 바깥 반복문에서 n번 도는동안 안쪽 반복문에서 다시 n번 반복을 하므로 n * n 번의 최대 횟수가 될것이다.\
한줄로 작성한 피라미드의 경우 반복문이 하나만 있기 때문에 시간복잡도는 O(n)이 될것이다.\
현재 코드와 같은 간단한 반복문의 프로그램은 괜찮지만 거대한 프로그램을 작성할 때 반복문의 남용은 코드의 시간복잡도를 늘려 프로그램의 속도를 늦추는 원인이 될 수 있기 때문에 신경을 써주어야 한다고 들었다.\

## 7.학습 내용에 대한 개인적인 총평
처음에는 문자로 `'c'`를 출력해주려 했는데 하나의 printf와 하나의 출력 서식지정자, 한줄코드로 작성하려니 문자열로 받아서 사용하게 되었고, 피라미드의 내부를 채우는 것도 문자로 받는것은 피라미드 코드 작성에 너무 시간이 많이 걸릴것 같아 방향을 바꾸었다. 피라미드를 출력할 때 직각삼형 두개를 서식지정자 2개로 만들어 보기도 했지만 위에 작성한 코드가 더 마음에 들었다.\
시간복잡도를 정확하게 계산해본 것은 아니지만 한번의 반복문 사용은 확실히 이중 반복문보다 빠르게 작동할 것이라고 생각되었고, printf("%*.*s") 하나로 작성이 가능하다는것을 확인 할 수 있어서 시간을 내서 printf 함수를 사용해본 것은 잘한것 같다.

## 8.다음 학습 계획
- printf 옵션 구현하기