# 학습 레포트 23일차 2021-01-27(수)
## 1.학습 날짜
> ### 2021-01-27(수)
## 2.학습 시간
> ### 19:06 ~ 23:43(집)
## 3.학습 범위 및 주제
### | printf 함수 작성, vscode 라이브쉐어 |
## 4.동료 학습 방법
- 온라인 - 슬랙 검색
## 5.학습 목표
- printf 함수 작성
- vscode 라이브쉐어 사용하기
## 6.상세 학습 내용
- **실제 코딩 시간** 2시간
- **참고한 내용**

```
int ft_printf(const char *str, ...)
{
    va_list ap;
    int i;
    int len;
    char *flag_buff;
    static char *prev_buff;
    
    va_start(ap, str);
    len = 0;
    while (str[len] != '\0' && str[len] != '%')
        len += 1;
    if (!(prev_buff = (char *)malloc(sizeof(char) * (len + 1))))
        return (0);
    ft_strlcpy(prev_buff, str, len + 1);
    i = len;
    while (str[len] != '\0')
        len += 1;
    if (!(flag_buff = (char *)malloc(sizeof(char) * (i + 1))))
        return (0);
    ft_strlcpy(flag_buff, (str + i), (len - i) + 1);
    printf("prev_buff : %s\n", prev_buff);
    printf("flag_buff : %s\n", flag_buff);
    printf("va_arg(ap, int) : %d\n", va_arg(ap, int));
    va_end(ap);
    free(flag_buff);
    free(prev_buff);
    return (1);
}

int main()
{
    ft_printf("hello world : %d", 10);
    return (0);
}
```
어제 작성 했던 코드에 다음 코드를 추가 해보았다.
```
int d;
int j;
char *tmp;

j = 0;
tmp = NULL;
while (flag_buff[j] != '\0')
{
    if (flag_buff[j] != '%')
    {
        if (flag_buff[j] == 'd')
        {
            tmp = ft_itoa(va_arg(ap, int));
            printf("tmp : %s\n", tmp);
            free(tmp);
            tmp = ft_strjoin(prev_buff, tmp);
            printf("join tmp : %s\n", tmp);
        }
        else if (flag_buff[j] == 'c')
        {
            ...
        }
        ...
    }
    j++;
}
printf("flag_buff : %s\n", flag_buff);
```
prev_buff와 flag_buff 출력과 va_end(ap) 사이에 코드를 추가해 주었고 실행 결과는 다음과 같다.
```
prev_buff : hello world : 
flag_buff : %d
tmp : 10
join tmp : hello world : 10
flag_buff : %d
```
`tmp` 포인터 변수는 서식지정자에 따라 가변인자의 값을 저장하는 변수로 설정했다. 작성한 코드는 우선 정수의 경우를 테스트 해 보았다.

libft 과제에서 작성했던 itoa 함수를 사용해 정수를 문자열로 바꾸어 tmp에 동적할당 한 주소를 저장하고 strjoin 함수를 사용해 prev_buff에 tmp를 이어 붙였다. 아직 flag_buff값을 바꾸는 코드를 작성하지 못해 flag_buff에는 여전히 `%d` 문자가 남아있다.

### vnc 연결의 불편함
코드를 작성하고 

## 7.학습 내용에 대한 개인적인 총평
## 8.다음 학습 계획